import{_ as z}from"./BgwZxOQs.js";import{_ as x}from"./Dr1fThoD.js";import{g as V,l as C,n as j,i as y,v as N,s as R,r as S,o as a,c as l,b as d,a as t,x as k,y as q,F as _,k as m,t as u,w as A,d as B,z as p}from"./BYXYRwLn.js";import"./DlAUqK2U.js";import"./CTRyl4Lp.js";const D={class:"section"},F={class:"container"},M=t("h1",{class:"title"},"Organization's Developers emails",-1),O=t("p",null,[t("strong",null,"Repositories?")],-1),P={class:"container"},$={class:"card-header",style:{"background-color":"#f5f5f5"}},E={class:"card-header-title"},L={class:"card-header-title"},T={class:""},U={key:0,class:"content"},G=["onClick"],H={key:1,class:"content"},I={key:0},Z=V({__name:"emails",setup(J){const h=C(),w=j(),n=y(["chromium"]);h.query.repositories&&(n.value=h.query.repositories.split(","));const f=y([]),v=async()=>{w.push({query:{repositories:n.value.join(",")}});const g=await Promise.all(n.value.map(o=>fetch(`/data/${o}/organizations_emails.json`))),c=await Promise.all(g.map(o=>o.json())),i={};for(const o of c)for(const e in o){i[e]||(i[e]=new Set);for(const s of o[e])i[e].add(s)}const r=[];for(const[o,e]of Object.entries(i)){const s=Array.from(e).sort();r.push({org:o,emails:s,emails_short:Array.from(s).slice(0,5),emails_size:s.length,username_size:new Set(s.map(b=>b.split("@")[0])).size,collapsed:s.length>6})}r.sort((o,e)=>e.emails.length-o.emails.length),f.value=r};return N(()=>{v()}),R(n,()=>{v()}),(g,c)=>{const i=z,r=x,o=S("b-tooltip");return a(),l("div",null,[d(i),t("section",D,[t("div",F,[M,O,d(r,{modelValue:k(n),"onUpdate:modelValue":c[0]||(c[0]=e=>q(n)?n.value=e:null),size:"medium",allowMultiple:!0,allowAll:!0},null,8,["modelValue"])])]),t("section",P,[(a(!0),l(_,null,m(k(f),e=>(a(),l("div",{class:"card box",key:e.organization},[t("div",$,[t("div",E,u(e.org),1),t("div",L,[d(o,{label:e.username_size+" unique usernames",position:"is-bottom",type:"is-light"},{default:A(()=>[t("div",null,u(e.emails.length)+" emails",1)]),_:2},1032,["label"])])]),t("div",T,[e.collapsed?(a(),l("div",U,[t("ul",null,[(a(!0),l(_,null,m(e.emails_short,s=>(a(),l("li",{key:s},u(s),1))),128)),t("li",null,[B("... "),t("a",{onClick:s=>e.collapsed=!1},"Show all",8,G)])])])):p("",!0),e.collapsed?p("",!0):(a(),l("div",H,[e.collapsed?p("",!0):(a(),l("ul",I,[(a(!0),l(_,null,m(e.emails,s=>(a(),l("li",{key:s},u(s),1))),128))]))]))])]))),128))])])}}});export{Z as default};
